{% extends 'base.html' %}
{% block title %}iFome - Restaurante{% endblock %}
{% block content %}
    <div id="container" class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-lg">
        <h1 id="nome" class="text-3xl font-bold text-gray-800 mb-4">Carregando...</h1>
        <p id="endereco" class="text-gray-600 mb-2"></p>
        <p id="telefone" class="text-gray-600 mb-4"></p>

        <h2 class="text-2xl font-semibold mb-3">Card√°pio</h2>
        <ul id="cardapio" class="space-y-2"></ul>
    </div>
{% endblock content %}

{% block scripts %}
    <script>
        const restauranteId = "{{ restaurante_id }}";

        // faz uma requisi√ß√£o ass√≠ncrona para buscar dados da API
        fetch(`/api/restaurantes/${restauranteId}`)
            .then(res => res.json())
            .then(data => {
                if (data.erro) {
                    document.getElementById('container').innerHTML = `<p class="text-red-500">${data.erro}</p>`;
                    return;
                }

                document.getElementById('nome').textContent = data.nome;
                document.getElementById('endereco').textContent = "üìç " + data.endereco;
                document.getElementById('telefone').textContent = "üìû " + data.telefone;

                // const ul = document.getElementById('cardapio');
                // data.cardapio.forEach(item => {
                //     const li = document.createElement('li');
                //     li.className = "flex justify-between border-b pb-2";
                //     li.innerHTML = `<span>${item.nome}</span><span class="text-gray-700 font-medium">R$ ${item.preco}</span>`;
                //     ul.appendChild(li);
                // });
            })
            .catch(err => {
                document.getElementById('container').innerHTML = `<p class="text-red-500">Erro ao carregar restaurante.</p>`;
            });
    </script>
{% endblock %}